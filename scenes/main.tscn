[gd_scene load_steps=18 format=3 uid="uid://bgjs1hrenwxwv"]

[ext_resource type="Script" uid="uid://rf6gkvm5dp7a" path="res://endless.gd" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://cbostgsj5frgo" path="res://scenes/road_segment.tscn" id="2_sugp2"]
[ext_resource type="Script" uid="uid://bl4i67kkbp60i" path="res://scenes/player.gd" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://benmjny2guowm" path="res://cars/Models/Doge/Wheel.glb" id="4_tefeu"]
[ext_resource type="PackedScene" uid="uid://8sl5gmdd6o6w" path="res://cars/camera/camera_3d.tscn" id="5_o6xl0"]
[ext_resource type="PackedScene" uid="uid://bty2rpvw2dh0h" path="res://cars/Models/Doge/doge-body.glb" id="6_tipki"]
[ext_resource type="Script" uid="uid://2m7ufdxa1ekh" path="res://scenes/traffic_manager.gd" id="7_o6xl0"]
[ext_resource type="PackedScene" path="res://traffic_car.tscn" id="8_tipki"]

[sub_resource type="BoxShape3D" id="BoxShape3D_mm2gk"]
size = Vector3(1.9717, 1, 2.08592)

[sub_resource type="LabelSettings" id="LabelSettings_yc8e5"]
font_size = 32

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_n7qdn"]
radius = 0.291194

[sub_resource type="BoxShape3D" id="BoxShape3D_xaafv"]
size = Vector3(0.542114, 1.7092, 1.53265)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7kmqy"]
radius = 0.363529

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tipki"]
radius = 0.8
height = 4.5

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_choun"]

[sub_resource type="Sky" id="Sky_ya4ey"]
sky_material = SubResource("ProceduralSkyMaterial_choun")
process_mode = 1

[sub_resource type="Environment" id="Environment_eb6dy"]
background_mode = 2
background_energy_multiplier = 1.18
sky = SubResource("Sky_ya4ey")

[node name="Main" type="Node3D"]

[node name="Road_Manager" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, -21.738262, 10)
script = ExtResource("1_o5qli")
road_segment_scene = ExtResource("2_sugp2")
visible_segments = 30

[node name="Player" type="VehicleBody3D" parent="."]
transform = Transform3D(-0.99998003, 0, 0.006317963, 0, 1, 0, -0.006317963, 0, -0.99998003, 0, 2, 0)
mass = 20.0
center_of_mass_mode = 1
center_of_mass = Vector3(0, -0.1, 0)
script = ExtResource("3_sugp2")

[node name="wheal0" type="VehicleWheel3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.997421, 0.340338, -1.50006)
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.5
wheel_radius = 0.37
wheel_rest_length = 0.095
wheel_friction_slip = 3.0
suspension_travel = 0.357
suspension_stiffness = 30.0
suspension_max_force = 10000.0

[node name="Wheel" parent="Player/wheal0" instance=ExtResource("4_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.142656, 0, 0)

[node name="wheal1" type="VehicleWheel3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.02668, 0.340338, -1.50006)
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.5
wheel_radius = 0.37
wheel_rest_length = 0.095
wheel_friction_slip = 3.0
suspension_travel = 0.357
suspension_stiffness = 30.0
suspension_max_force = 10000.0

[node name="Wheel" parent="Player/wheal1" instance=ExtResource("4_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0775136, 0, 0)

[node name="wheal2" type="VehicleWheel3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.997421, 0.286814, 1.26411)
use_as_traction = true
wheel_roll_influence = 0.5
wheel_radius = 0.37
wheel_rest_length = 0.095
wheel_friction_slip = 3.0
suspension_travel = 0.357
suspension_stiffness = 30.0
suspension_max_force = 10000.0

[node name="Wheel" parent="Player/wheal2" instance=ExtResource("4_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.142656, 0, 0)

[node name="wheal3" type="VehicleWheel3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.02668, 0.286814, 1.26411)
use_as_traction = true
wheel_roll_influence = 0.5
wheel_radius = 0.37
wheel_rest_length = 0.095
wheel_friction_slip = 3.0
suspension_travel = 0.357
suspension_stiffness = 30.0
suspension_max_force = 10000.0

[node name="Wheel" parent="Player/wheal3" instance=ExtResource("4_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0775136, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0026385, 0.827398, 0.719927)
shape = SubResource("BoxShape3D_mm2gk")

[node name="look" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2149, 0)

[node name="Camera3D" parent="Player/look" instance=ExtResource("5_o6xl0")]
transform = Transform3D(1, 0, 0, 0, 0.974347, 0.225053, 0, -0.225053, 0.974347, 0, 1.97324, 6.19962)
speed = 10.0

[node name="Hud" type="CanvasLayer" parent="Player"]
layer = 2

[node name="speed" type="Label" parent="Player/Hud"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -23.0
offset_right = 20.0
grow_horizontal = 2
grow_vertical = 0
theme_override_font_sizes/font_size = 50

[node name="Label" type="Label" parent="Player/Hud"]
offset_right = 40.0
offset_bottom = 23.0
text = "Arow keys to drive
Space to drift and break
"
label_settings = SubResource("LabelSettings_yc8e5")

[node name="doge-body" parent="Player" instance=ExtResource("6_tipki")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Player"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0.590649, -2.08042)
shape = SubResource("CapsuleShape3D_n7qdn")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Player"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -0.000778168, 0.603737, -1.11035)
shape = SubResource("BoxShape3D_xaafv")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Player"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -0.000778168, 0.653567, 1.99781)
shape = SubResource("CapsuleShape3D_7kmqy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.139753, 4.101461)

[node name="CollisionShape3D5" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.3711385e-08, 0, 0.7234435, 0)
shape = SubResource("CapsuleShape3D_tipki")

[node name="TrafficManager" type="Node3D" parent="."]
script = ExtResource("7_o6xl0")
traffic_car_scene = ExtResource("8_tipki")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_eb6dy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.9331789, 0.27957952, -0.22585921, 0.26605383, 0.95985025, 0.08889887, 0.24164537, 0.022867918, -0.9700952, 0, 4.686602, -3.7649207)
light_energy = 16.0
